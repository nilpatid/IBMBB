webpackJsonp([6],{429:function(n,l,t){"use strict";function e(n){return m._23(2,[(n()(),m._21(null,["\n    "])),m._14(null,0),(n()(),m._21(null,["\n    "])),m._14(null,1),(n()(),m._21(null,["\n  "]))],null,null)}function u(n){return m._23(0,[m._14(null,0)],null,null)}function i(n){return m._23(2,[(n()(),m._1(0,null,null,1,"ion-icon",[["class","fab-close-icon"],["name","close"],["role","img"]],[[2,"hide",null]],null,null,null,null)),m.Z(147456,null,0,G.a,[D.a,m.j,m.A],{name:[0,"name"]},null),(n()(),m._1(0,null,null,1,"span",[["class","button-inner"]],null,null,null,null,null)),m._14(null,0),(n()(),m._1(0,null,null,0,"div",[["class","button-effect"]],null,null,null,null,null))],function(n,l){n(l,1,0,"close")},function(n,l){n(l,0,0,m._15(l,1)._hidden)})}function a(n){return m._23(0,[(n()(),m._1(0,null,null,2,"p",[["class","bold"],["color","text2"],["ion-text",""]],null,null,null,null,null)),m.Z(16384,null,0,F.a,[D.a,m.j,m.A],{color:[0,"color"]},null),(n()(),m._21(null,["\n          ","\n        "]))],function(n,l){n(l,1,0,"text2")},function(n,l){n(l,2,0,l.component.utilService.getStandardDay(l.parent.context.$implicit.firstDailyForecast.time,l.parent.context.$implicit.timezone))})}function o(n){return m._23(0,[(n()(),m._1(0,null,null,2,"div",[["class","large"],["color","text1"],["ion-text",""],["item-right",""]],null,null,null,null,null)),m.Z(16384,null,0,F.a,[D.a,m.j,m.A],{color:[0,"color"]},null),(n()(),m._21(null,["\n          ","\n        "]))],function(n,l){n(l,1,0,"text1")},function(n,l){var t=l.component;n(l,2,0,t.utilService.formatTemp(l.parent.context.$implicit.firstDailyForecast.temperatureMax,t.metrics))})}function r(n){return m._23(0,[(n()(),m._1(0,null,null,2,"p",[["class","medium bold"],["color","text2"],["ion-text",""],["item-right",""]],null,null,null,null,null)),m.Z(16384,null,0,F.a,[D.a,m.j,m.A],{color:[0,"color"]},null),(n()(),m._21(null,["\n          ","\n        "]))],function(n,l){n(l,1,0,"text2")},function(n,l){var t=l.component;n(l,2,0,t.utilService.formatTemp(l.parent.context.$implicit.firstDailyForecast.temperatureMin,t.metrics))})}function c(n){return m._23(0,[(n()(),m._1(0,null,null,38,"ion-item-sliding",[],null,null,null,e,w)),m.Z(81920,null,0,h,[m.j,m.B],{shouldAnimate:[0,"shouldAnimate"]},null),m.Z(49152,null,2,k.a,[[2,E.a],$.a,m.A,m.j,m.u],null,null),m._19(335544320,4,{item:0}),m._19(603979776,5,{_itemOptions:1}),(n()(),m._21(null,["\n      "])),(n()(),m._1(0,null,0,20,"button",[["class","item item-block"],["ion-item",""],["text-wrap",""]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.locationClicked(n.context.$implicit.location)&&e}return e},I.b,I.a)),m.Z(1097728,[[4,4]],3,T.a,[z.a,D.a,m.j,m.A,[2,L.a]],null,null),m._19(335544320,6,{contentLabel:0}),m._19(603979776,7,{_buttons:1}),m._19(603979776,8,{_icons:1}),m.Z(16384,null,0,J.a,[],null,null),(n()(),m._21(2,["\n        "])),(n()(),m._1(0,null,0,0,"img",[["item-left",""],["onerror","this.src='assets/img/default.png'"],["style","max-width: 12%"]],[[8,"src",4]],null,null,null,null)),(n()(),m._21(2,["\n        "])),(n()(),m._1(0,null,2,1,"div",[["class","medium"]],null,null,null,null,null)),(n()(),m._21(null,["",""])),(n()(),m._21(2,["\n        "])),(n()(),m.V(16777216,null,2,1,null,a)),m.Z(16384,null,0,V.i,[m.J,m.G],{ngIf:[0,"ngIf"]},null),(n()(),m._21(2,["\n        "])),(n()(),m.V(16777216,null,4,1,null,o)),m.Z(16384,null,0,V.i,[m.J,m.G],{ngIf:[0,"ngIf"]},null),(n()(),m._21(2,["\n        "])),(n()(),m.V(16777216,null,4,1,null,r)),m.Z(16384,null,0,V.i,[m.J,m.G],{ngIf:[0,"ngIf"]},null),(n()(),m._21(2,["\n      "])),(n()(),m._21(null,["\n      "])),(n()(),m._1(0,null,1,9,"ion-item-options",[],null,null,null,null,null)),m.Z(16384,[[5,4]],0,M.a,[m.j,$.a],null,null),(n()(),m._21(null,["\n        "])),(n()(),m._1(0,null,null,5,"button",[["color","danger"],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.delete(n.context.$implicit.location)&&e}return e},O.b,O.a)),m.Z(1097728,null,0,P.a,[[8,""],D.a,m.j,m.A],{color:[0,"color"]},null),(n()(),m._21(0,["\n          "])),(n()(),m._1(0,null,0,1,"ion-icon",[["name","trash"],["role","img"]],[[2,"hide",null]],null,null,null,null)),m.Z(147456,null,0,G.a,[D.a,m.j,m.A],{name:[0,"name"]},null),(n()(),m._21(0,["\n          Delete\n        "])),(n()(),m._21(null,["\n      "])),(n()(),m._21(null,["\n    "]))],function(n,l){var t=l.component;n(l,1,0,l.context.$implicit.shouldAnimate);n(l,19,0,l.context.$implicit.firstDailyForecast);n(l,22,0,l.context.$implicit.firstDailyForecast&&t.metrics);n(l,25,0,l.context.$implicit.firstDailyForecast&&t.metrics);n(l,32,0,"danger");n(l,35,0,"trash")},function(n,l){n(l,13,0,l.component.utilService.getWeatherIcon(null==l.context.$implicit?null:null==l.context.$implicit.firstDailyForecast?null:l.context.$implicit.firstDailyForecast.icon));n(l,16,0,l.context.$implicit.location.name);n(l,34,0,m._15(l,35)._hidden)})}function s(n){return m._23(0,[(n()(),m._1(0,null,null,5,"ion-list",[],null,null,null,null,null)),m.Z(16384,null,0,E.a,[D.a,m.j,m.A,$.a,Y.l,R.a],null,null),(n()(),m._21(null,["\n    "])),(n()(),m.V(16777216,null,null,1,null,c)),m.Z(802816,null,0,V.h,[m.J,m.G,m.p],{ngForOf:[0,"ngForOf"]},null),(n()(),m._21(null,["\n  "]))],function(n,l){n(l,4,0,l.component.arrWorldWeather)},null)}function d(n){return m._23(0,[(n()(),m._21(null,["\n"])),(n()(),m._1(0,null,null,20,"ion-header",[["no-border",""]],null,null,null,null,null)),m.Z(16384,null,0,B.a,[D.a,m.j,m.A,[2,N.a]],null,null),(n()(),m._21(null,["\n  "])),(n()(),m._1(0,null,null,16,"ion-navbar",[["class","toolbar"],["color","primary"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,q.b,q.a)),m.Z(49152,null,0,H.a,[X.a,[2,N.a],[2,K.a],D.a,m.j,m.A],{color:[0,"color"]},null),(n()(),m._21(3,["\n    "])),(n()(),m._1(0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==m._15(n,9).toggle()&&e}return e},O.b,O.a)),m.Z(1097728,[[1,4]],0,P.a,[[8,""],D.a,m.j,m.A],null,null),m.Z(1064960,null,0,Q.a,[U.a,[2,N.a],[2,P.a],[2,H.a]],{menuToggle:[0,"menuToggle"]},null),m.Z(16384,null,1,nn.a,[D.a,m.j,m.A,[2,ln.a],[2,H.a]],null,null),m._19(603979776,1,{_buttons:1}),(n()(),m._21(0,["\n      "])),(n()(),m._1(0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),m.Z(147456,null,0,G.a,[D.a,m.j,m.A],{name:[0,"name"]},null),(n()(),m._21(0,["\n    "])),(n()(),m._21(3,["\n    "])),(n()(),m._1(0,null,3,2,"ion-title",[],null,null,null,tn.b,tn.a)),m.Z(49152,null,0,en.a,[D.a,m.j,m.A,[2,ln.a],[2,H.a]],null,null),(n()(),m._21(0,["World Weather"])),(n()(),m._21(3,["\n  "])),(n()(),m._21(null,["\n"])),(n()(),m._21(null,["\n\n"])),(n()(),m._1(0,null,null,18,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(n,l,t){var e=!0;if("window:resize"===l){e=!1!==m._15(n,24).resize()&&e}return e},un.b,un.a)),m.Z(4374528,null,0,an.a,[D.a,$.a,R.a,m.j,m.A,X.a,on.a,m.u,[2,N.a],[2,K.a]],null,null),(n()(),m._21(1,["\n  "])),(n()(),m._1(0,null,0,11,"ion-fab",[["bottom",""],["right",""]],null,null,null,u,cn)),m.Z(1228800,null,2,rn.a,[$.a],null,null),m._19(335544320,2,{_mainButton:0}),m._19(603979776,3,{_fabLists:1}),(n()(),m._21(0,["\n    "])),(n()(),m._1(0,null,0,5,"button",[["ion-fab",""]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.addLocation()&&e}return e},i,dn)),m.Z(49152,[[2,4]],0,sn.a,[D.a,m.j,m.A],null,null),(n()(),m._21(0,["\n      "])),(n()(),m._1(0,null,0,1,"ion-icon",[["name","add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),m.Z(147456,null,0,G.a,[D.a,m.j,m.A],{name:[0,"name"]},null),(n()(),m._21(0,["\n    "])),(n()(),m._21(0,["\n  "])),(n()(),m._21(1,["\n\n  "])),(n()(),m.V(16777216,null,1,1,null,s)),m.Z(16384,null,0,V.i,[m.J,m.G],{ngIf:[0,"ngIf"]},null),(n()(),m._21(1,["\n"])),(n()(),m._21(null,["\n"]))],function(n,l){var t=l.component;n(l,5,0,"primary");n(l,9,0,"");n(l,14,0,"menu");n(l,35,0,"add");n(l,40,0,t.arrWorldWeather)},function(n,l){n(l,4,0,m._15(l,5)._hidden,m._15(l,5)._sbPadding);n(l,7,0,m._15(l,9).isHidden);n(l,13,0,m._15(l,14)._hidden);n(l,23,0,m._15(l,24).statusbarPadding,m._15(l,24)._hasRefresher);n(l,34,0,m._15(l,35)._hidden)})}Object.defineProperty(l,"__esModule",{value:!0});var m=t(0),_=(t(1),t(75),t(163)),f=t(168),p=function(){function n(n,l,t,e,u){this.navCtrl=n,this.databaseService=l,this.utilService=t,this.forecastService=e,this.modalCtrl=u}return n.prototype.ngOnInit=function(){var n=this;n.arrWorldWeather=[],n.subscribers=[],n.databaseService.get("stopDeleteAnimation").then(function(l){n.databaseService.getAllWorldLocations().then(function(t){f.forEach(t,function(t,e){n.arrWorldWeather.push({location:t,firstDailyForecast:null,timezone:null,shouldAnimate:!l&&0===e})}),n.updateForecast()})})},n.prototype.ionViewWillEnter=function(){var n=this;this.databaseService.getJson(_.a.METRICS).then(function(l){null===l?(n.databaseService.setJson(_.a.METRICS,_.b),n.metrics=_.b):n.metrics=l}),n.updateForecast()},n.prototype.ionViewWillLeave=function(){f.forEach(this.subscribers,function(n){return n.unsubscribe()})},n.prototype.updateForecast=function(){var n=this;f.forEach(n.arrWorldWeather,function(l){var t=n.forecastService.getForecast(l.location,!0).subscribe(function(n){n&&n.daily&&n.daily.data&&(l.firstDailyForecast=n.daily.data[0],l.timezone=n.timezone)},function(n){});n.subscribers.push(t)})},n.prototype.addLocation=function(){var n=this,l=n.modalCtrl.create("LocationPage",{heading:"Add New City"});l.onDidDismiss(function(l){l&&n.databaseService.addWorldLocation(l).then(function(t){if(t){f.find(n.arrWorldWeather,function(n){return n.location.name===l.name})?n.utilService.showToast(l.name+" already exists"):(n.arrWorldWeather.push({location:l,firstDailyForecast:null,timezone:null,shouldAnimate:!1}),n.forecastService.getForecast(l).subscribe(function(t){if(t&&t.daily&&t.daily.data){var e=f.find(n.arrWorldWeather,{location:l});e&&(e.firstDailyForecast=t.daily.data[0],e.timezone=t.timezone)}},function(n){}))}})}),l.present()},n.prototype.delete=function(n){var l=this;l.databaseService.removeWorldLocation(n.name).then(function(t){t&&f.remove(l.arrWorldWeather,function(l){return l.location.name===n.name})}),l.databaseService.set("stopDeleteAnimation","true")},n.prototype.locationClicked=function(n){this.navCtrl.push("CityWeatherPage",{location:n})},n}(),h=function(){function n(n,l){this.element=n,this.renderer=l}return n.prototype.ngOnInit=function(){var n=this;this.shouldAnimate&&(this.renderer.addClass(this.element.nativeElement,"active-slide"),this.renderer.addClass(this.element.nativeElement,"active-options-right"),setTimeout(function(){n.renderer.addClass(n.element.nativeElement.firstElementChild,"itemSlidingAnimation"),setTimeout(function(){n.renderer.removeClass(n.element.nativeElement,"active-slide"),n.renderer.removeClass(n.element.nativeElement,"active-options-right"),n.renderer.removeClass(n.element.nativeElement.firstElementChild,"itemSlidingAnimation")},1e3)},500))},n}(),b=function(){return function(){}}(),v=function(){return function(){}}(),g=t(374),y=t(375),A=t(376),Z=t(377),W=t(378),x=t(379),j=t(380),S=t(381),C=t(382),F=t(110),D=t(3),k=t(176),E=t(60),$=t(5),w=m.Y({encapsulation:2,styles:[],data:{}}),I=(k.a,t(165)),T=t(22),z=t(19),L=t(56),J=t(77),V=t(18),M=t(116),O=t(55),P=t(29),G=t(50),Y=t(8),R=t(14),B=t(107),N=t(7),q=t(384),H=t(49),X=t(13),K=t(28),Q=t(172),U=t(36),nn=t(166),ln=t(76),tn=t(438),en=t(160),un=t(383),an=t(33),on=t(39),rn=t(174),cn=m.Y({encapsulation:2,styles:[],data:{}}),sn=(rn.a,t(78)),dn=m.Y({encapsulation:2,styles:[],data:{}}),mn=(sn.a,t(109)),_n=t(108),fn=t(164),pn=t(111),hn=m.Y({encapsulation:2,styles:[],data:{}}),bn=m.W("page-world-city-list",p,function(n){return m._23(0,[(n()(),m._1(0,null,null,1,"page-world-city-list",[],null,null,null,d,hn)),m.Z(114688,null,0,p,[K.a,mn.a,_n.a,fn.a,pn.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),vn=t(27),gn=t(162),yn=t(54);t.d(l,"WorldCityListPageModuleNgFactory",function(){return An});var An=m.X(v,[],function(n){return m._12([m._13(512,m.i,m.T,[[8,[g.a,y.a,A.a,Z.a,W.a,x.a,j.a,S.a,C.a,bn]],[3,m.i],m.s]),m._13(4608,V.k,V.j,[m.r]),m._13(4608,vn.m,vn.m,[]),m._13(4608,vn.c,vn.c,[]),m._13(512,b,b,[]),m._13(512,V.b,V.b,[]),m._13(512,vn.l,vn.l,[]),m._13(512,vn.d,vn.d,[]),m._13(512,vn.j,vn.j,[]),m._13(512,gn.a,gn.a,[]),m._13(512,gn.b,gn.b,[]),m._13(512,v,v,[]),m._13(256,yn.a,p,[])])})},438:function(n,l,t){"use strict";function e(n){return u._23(2,[(n()(),u._1(0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),u.Z(278528,null,0,i.g,[u.p,u.q,u.j,u.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._14(null,0)],function(n,l){n(l,1,0,"toolbar-title","toolbar-title-"+l.component._mode)},null)}t.d(l,"a",function(){return s}),l.b=e;var u=t(0),i=t(18),a=t(160),o=t(3),r=t(76),c=t(49),s=u.Y({encapsulation:2,styles:[],data:{}});a.a}});